{% extends 'main/base.html' %}
{% load static %}

{% block title %}Get Started with DineEase{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="relative h-[300px] overflow-hidden">
    <img src="https://images.unsplash.com/photo-1552566626-52f8b828add9?auto=format&fit=crop&w=1920&q=80" 
         alt="Get Started" 
         class="w-full h-full object-cover"
         onerror="this.onerror=null; this.src='https://images.pexels.com/photos/696218/pexels-photo-696218.jpeg?auto=compress&cs=tinysrgb&w=1920';">
    
    <div class="absolute inset-0" style="background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.7) 100%);">
        <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center px-4">
                <h1 class="text-4xl font-bold mb-4 text-white drop-shadow-xl">Get Started with DineEase</h1>
                <p class="text-xl text-white drop-shadow-lg">Complete the form below to begin your digital transformation</p>
            </div>
        </div>
    </div>
</div>

<div class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-3xl mx-auto"> <!-- Outer container -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <form method="POST" class="p-8"> <!-- Single Form Tag -->
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
                            {% for error in form.non_field_errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}

                    <div class="space-y-6"> <!-- Main Fields Container -->
                        
                        <!-- Restaurant Name -->
                        <div>
                            <label for="{{ form.restaurant_name.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.restaurant_name.label }}*</label>
                            {{ form.restaurant_name }}
                            {% if form.restaurant_name.errors %}<p class="text-red-500 text-xs mt-1">{{ form.restaurant_name.errors|first }}</p>{% endif %}
                        </div>
                        
                        <!-- Owner Name & Phone -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="{{ form.owner_name.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.owner_name.label }}*</label>
                                {{ form.owner_name }}
                                {% if form.owner_name.errors %}<p class="text-red-500 text-xs mt-1">{{ form.owner_name.errors|first }}</p>{% endif %}
                            </div>
                            <div>
                                <label for="{{ form.phone.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.phone.label }}*</label>
                                {{ form.phone }}
                                {% if form.phone.errors %}<p class="text-red-500 text-xs mt-1">{{ form.phone.errors|first }}</p>{% endif %}
                            </div>
                        </div>
                        
                        <!-- Email -->
                        <div>
                            <label for="{{ form.email.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.email.label }}*</label>
                            {{ form.email }}
                            {% if form.email.errors %}<p class="text-red-500 text-xs mt-1">{{ form.email.errors|first }}</p>{% endif %}
                        </div>

                        <!-- Owner Account Credentials -->
                        <div>
                            <label for="{{ form.username.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.username.label }}*</label>
                            {{ form.username }}
                             {% if form.username.errors %}<p class="text-red-500 text-xs mt-1">{{ form.username.errors|first }}</p>{% endif %}
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="{{ form.password.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.password.label }}*</label>
                                {{ form.password }}
                                {% if form.password.errors %}<p class="text-red-500 text-xs mt-1">{{ form.password.errors|first }}</p>{% endif %}
                            </div>
                            <div>
                                <label for="{{ form.confirm_password.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.confirm_password.label }}*</label>
                                {{ form.confirm_password }}
                                {% if form.confirm_password.errors %}<p class="text-red-500 text-xs mt-1">{{ form.confirm_password.errors|first }}</p>{% endif %}
                            </div>
                        </div>

                        <!-- Restaurant Details -->
                        <div>
                            <label for="{{ form.address.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.address.label }}*</label>
                            {{ form.address }}
                             {% if form.address.errors %}<p class="text-red-500 text-xs mt-1">{{ form.address.errors|first }}</p>{% endif %}
                        </div>
                         <div>
                            <label for="{{ form.city.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.city.label }}*</label>
                            {{ form.city }}
                             {% if form.city.errors %}<p class="text-red-500 text-xs mt-1">{{ form.city.errors|first }}</p>{% endif %}
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                             <div>
                                <label for="{{ form.cuisine_type.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.cuisine_type.label }}*</label>
                                {{ form.cuisine_type }}
                                {% if form.cuisine_type.errors %}<p class="text-red-500 text-xs mt-1">{{ form.cuisine_type.errors|first }}</p>{% endif %}
                            </div>
                            <div> 
                                <label for="{{ form.other_cuisine.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.other_cuisine.label }}</label>
                                {{ form.other_cuisine }}
                                {% if form.other_cuisine.errors %}<p class="text-red-500 text-xs mt-1">{{ form.other_cuisine.errors|first }}</p>{% endif %}
                            </div>
                        </div>

                         <div>
                            <label for="{{ form.seating_capacity.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.seating_capacity.label }}*</label>
                             {{ form.seating_capacity }}
                             {% if form.seating_capacity.errors %}<p class="text-red-500 text-xs mt-1">{{ form.seating_capacity.errors|first }}</p>{% endif %}
                        </div>
                        
                        <!-- Plan Selection -->
                        <div>
                            <label class="block text-gray-700 font-medium mb-2">{{ form.subscription_plan.label }}*</label>
                             {{ form.subscription_plan }} <!-- Renders RadioSelect -->
                             {% if form.subscription_plan.errors %}<p class="text-red-500 text-xs mt-1">{{ form.subscription_plan.errors|first }}</p>{% endif %}
                        </div>
                        
                         <div>
                            <label for="{{ form.additional_info.id_for_label }}" class="block text-gray-700 font-medium mb-2">{{ form.additional_info.label }}</label>
                             {{ form.additional_info }}
                             {% if form.additional_info.errors %}<p class="text-red-500 text-xs mt-1">{{ form.additional_info.errors|first }}</p>{% endif %}
                        </div>

                         <div>
                            <div class="flex items-center">
                                {{ form.terms_accepted }}
                                <label for="{{ form.terms_accepted.id_for_label }}" class="ml-2 block text-gray-700 font-medium">{{ form.terms_accepted.label }}*</label>
                            </div>
                             {% if form.terms_accepted.errors %}<p class="text-red-500 text-xs mt-1">{{ form.terms_accepted.errors|first }}</p>{% endif %}
                        </div>
                        
                        <!-- Submit Button -->
                        <div>
                            <button type="submit" 
                                    class="w-full bg-orange-500 text-white py-3 px-6 rounded-xl hover:bg-orange-600 transition-colors font-semibold transform hover:scale-105 duration-300">
                                Create Account & Restaurant
                            </button>
                        </div>
                    </div> <!-- End space-y-6 -->
                </form> <!-- End form -->
            </div> <!-- End bg-white rounded-xl -->
            
            <!-- Help Text -->
            <div class="mt-8 text-center">
                <p class="text-gray-600">Need help choosing a plan? 
                    <a href="{% url 'schedule_demo' %}" class="text-orange-600 hover:text-orange-700 font-medium">Schedule a demo</a> or 
                    <a href="{% url 'contact' %}" class="text-orange-600 hover:text-orange-700 font-medium">contact our sales team</a>
                </p>
            </div>
        </div> <!-- End max-w-3xl -->
    </div> <!-- End container -->
</div> <!-- End py-16 -->
{% endblock %}
